---
title: "Airline_Traffic_TS"
output: html_document
date: "2024-03-27"
---

This is the Airline Traffic Time Series Project.

By: Harshith Samayamantula, Devan Pandya
3/27/24
Time Series 

```{r}
require(zoo)
require(ggplot2)
require(forecast)
require(TTR)

airline_dataset = read.csv("air traffic.csv")
```

# Data Analysis Plan

## Research Question
Some research questions we want to explore include the following:
- Can we accurately forecast future air travel demand based on historical data? Specifically, passenger numbers and revenue passenger-miles?
  - The result is testing various methods for forecasting accuracy and discussing the level of accuracy we're able to attain.
- Is there a correlation between the number of flights (Flt) and total passenger volume (Pax)? How do revenue passenger-miles (RPM) correlate with the number of flights and passenger volume?
  - Correlation will be shown through autocorrelation and partial autocorrelation analysis, identifying if the data is stationary, and running other tests.

## Description

The air traffic dataset comes from Kaggle. It contains non-seasonally adjusted monthly air traffic data for all commercial U.S. air carriers from January 2003 to September 2023. It is being used under the US Government Works License and is collected by the US Department of Transportation Bureau of Transportation Statistics. The variables included in the dataset are listed as follows:

1. Year: Year
2. Month: Month
3. Dom_Pax: Domestic Air Travel Passengers
4. Int_Pax: International Air Travel Passengers
5. Pax: Total Air Travel Passengers
6. Dom_Flt: Number of Flights (Domestic)
7. Int_Flt: Number of Flights (International)
8. Flt: Number of Flights (Total)
9. Dom_RPM: Revenue Passenger Miles (Domestic)
10. Int_RPM: Revenue Passenger Miles (International)
11. RPM: Revenue Passenger Miles (Total)
12. Dom_ASM: Available Seat Miles (Domestic)
13. Int_ASM: Available Seat Miles (International)
14. ASM: Available Seat Miles (Total)
15. Dom_LF: Load Factor (Domestic)
16. Int_LF: Load Factor (International)
17. LF: Load Factor (Total)

Revenue Passenger-miles = the number of passengers and the distance flown in thousands (000)
Available Seat-miles = the number of seats and the distance flown in thousands (000)
Load Factor = passenger-miles as a proportion of available seat-miles in percent (%)

## Data Analysis 

#### Cleaning and Verification

```{r}
print(airline_dataset)

```

```{r}
colSums(is.na(airline_dataset))
```

```{r}
#Check for duplicated values
sum(duplicated(airline_dataset))

#Check for empty values
colSums(airline_dataset == "")
```

```{r}

airline_dataset$Year_Month = as.yearmon(paste(airline_dataset$Year, airline_dataset$Month), "%Y %m")

```

```{r}
print(airline_dataset)
str(airline_dataset)
```
```{r}
# Convert character columns to numeric columns
airline_dataset$Dom_Pax <- as.numeric(gsub(",", "", airline_dataset$Dom_Pax))
airline_dataset$Int_Pax <- as.numeric(gsub(",", "", airline_dataset$Int_Pax))
airline_dataset$Pax <- as.numeric(gsub(",", "", airline_dataset$Pax))
airline_dataset$Dom_Flt <- as.numeric(gsub(",", "", airline_dataset$Dom_Flt))
airline_dataset$Int_Flt <- as.numeric(gsub(",", "", airline_dataset$Int_Flt))
airline_dataset$Flt <- as.numeric(gsub(",", "", airline_dataset$Flt))
airline_dataset$Dom_RPM <- as.numeric(gsub(",", "", airline_dataset$Dom_RPM))
airline_dataset$Int_RPM <- as.numeric(gsub(",", "", airline_dataset$Int_RPM))
airline_dataset$RPM <- as.numeric(gsub(",", "", airline_dataset$RPM))
airline_dataset$Dom_ASM <- as.numeric(gsub(",", "", airline_dataset$Dom_ASM))
airline_dataset$Int_ASM <- as.numeric(gsub(",", "", airline_dataset$Int_ASM))
airline_dataset$ASM <- as.numeric(gsub(",", "", airline_dataset$ASM))
str(airline_dataset)
```

```{r}
ts_airline <- ts(airline_dataset[, c("Dom_Pax", "Int_Pax", "Pax", "Dom_Flt", "Int_Flt", "Flt", "Dom_RPM", "Int_RPM", "RPM", "Dom_ASM", "Int_ASM", "ASM", "Dom_LF", "Int_LF", "LF")], start = c(2003, 1), frequency = 12)
```

```{r}
print(window(ts_airline, start = c(2003, 1), end = c(2003, 5)))
```
```{r}
par(mar = c(3, 3, 1, 1))
par(mfrow=c(5, 3)) # Set up a 4x3 grid for plotting
for (i in 1:15) {
  plot(ts_airline[, i], main = colnames(ts_airline)[i], xlab = "Year", ylab = colnames(ts_airline)[i], type = "l")
}
```



-- Collect/Clean
-- Visualize data (few TS graphs)
-- Observing stationality of series
-- Developing charts
-- Predicting and discussing what statistical methods will be useful in answering our general research question
-- What should we expect from the stat methods to support the research question
